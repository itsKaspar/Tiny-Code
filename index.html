<!DOCTYPE html>
<html>
<head>
    <!-- Meta -->
    <meta charset="UTF-8">

    <link rel="stylesheet" href="./css/style.css">

    <style></style>

    <script>

    setLayout(hasLayout());

      function hasLayout(){
        const queryString = window.location.search; // get url
        const urlParams = new URLSearchParams(queryString); // get url parameters
        return urlParams.get('layout');
      }

      function setLayout(layout){
            const pageStyle = document.getElementsByTagName("style")[0];

            // # Define different style
            let cssTop = `#editor{ width:100%;height:50%; }         #p5{ top:50%;border:0;width:100%;height:50%; }`;
            let cssBot = `#editor{ width:100%;height:50%;top:50%; } #p5{ top:0%;border:0;width:100%;height:50%; } `;
            let cssLeft = `#editor{ height:100%;width:50%;left:0%;top:0%;} #p5{ left:50%;top:0;height:100%;width:50%; }`;
            let cssRight = `#editor{ height:100%;width:50%;left:50%;top:0%;} #p5{ left:0%;top:0;height:100%;width:50%; }`;
            let cssCode = `#editor{width:100%;height:100%;}#p5 {display:none;}`;
            let cssVisual = `#editor {display:none;}#p5{ left:0%;top:0;height:100%;width:100%; }`;
            let cssOverlay = `#editor {width:100%;height:100%;top0;left:0} #p5 {width:100%;height:100%;top0;left:0}`;


            switch(layout){
              case "top":    pageStyle.innerHTML += cssTop; break;
              case "bot":    pageStyle.innerHTML += cssBot; break;
              case "left":   pageStyle.innerHTML += cssLeft; break;
              case "right":  pageStyle.innerHTML += cssRight; break;
              case "code":   pageStyle.innerHTML += cssCode; break;
              case "visual": pageStyle.innerHTML += cssVisual; break;
              case "overlay":pageStyle.innerHTML += cssOverlay; break;
              default :      pageStyle.innerHTML += cssLeft; break;
            }

            let css2 = `.cm-editor{
              background-color:red;
            }`;
            pageStyle.innerHTML += css2;
        }
    </script>

    <script src="./build/tc.js"></script>

</head>

<body>

  <div id="editor"></div>

</body>

    <script>

const DEFAULT_CODE =
`function setup(){
  createCanvas(windowWidth,windowHeight);
}

function draw(){
  background('#e5e9f0');
}`;


      let editor = new TinyCode(DEFAULT_CODE, "left");
    </script>
</html>
